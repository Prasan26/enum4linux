---
description: >-
  SQL Injection is the most common Website vulnerability on the Internet.
  Discuss the various consequences of SQL injection attacks on modern database
  systems.
---

# WEEK 8



Structured Query Language \(SQL\) is a textual language used by a database server. SQL commands used to perform operations on the database include INSERT, SELECT, UPDATE, and DELETE. These commands are used to manipulate data in the database server. Programmers.

SQL injection is a technique used to take advantage of **unsanitized** input vulnerabilities to pass SQL commands through a web application for execution by a backend database.

**SQL Injection Consequences**

* Authentication Bypass
* Authentication Bypass
* Information Disclosure
* Compromised Data Integrity
* Compromised Availability of Data
* Remote Code Execution

**SQL Injection Query Workflow**

Normal SQL queries include selecting data, retrieving data, inserting/updating data, and creating data objects such as databases and tables. As listed below with authentication page request.

**select \* from Users where \(username = 'smith' and password = 'simpson'\);**

An SQL injection query exploits the normal execution of SQL. An attacker submits a request with values that will execute normally but return data from the database that the attacker seeks. The attacker can submit these malicious values because of the inability of the application to filter them before processing. To create an SQL injection query, an attacker may submit the following values in application input fields, such as the username and password fields.

**Username: Blah' or 1=1 –**

**Password: XXXXX**

These input values will replace placeholders, and the query will appear as follows**:**

 **SELECT Count\(\*\) FROM Users WHERE UserName='Blah' or 1=1 --' AND Password= 'XXXXXX';**

**Types of SQL Injections**

1. **In-band SQL Injection**: An attacker uses the same communication channel to perform the attack and retrieve the results. In-band attacks are commonly used and easy-to-exploit SQL injection attacks. The most commonly used in-band SQL injection attacks
   1. **error-based** SQL injection: The attacker performs actions that cause the database to produce error messages. The attacker can potentially use the data provided by these error messages to gather information about the structure of the database
   2. **UNION** SQL injection: this technique takes advantage of the UNION SQL operator, which fuses multiple select statements generated by the database to get a single HTTP response. This response may contain data that can be leveraged by the attacker.
2. **Blind/Inferential SQL Injection**: The attacker has no error messages from the system to work on. Instead, the attacker simply sends a malicious SQL query to the database. This type of SQL injection takes a longer time to execute because the result returned is generally in Boolean form. Blind SQL injections can be classified as follows:
3. 1. **Boolean**—that attacker sends a SQL query to the database prompting the application to return a result. The result will vary depending on whether the query is true or false. Based on the result, the information within the HTTP response will modify or stay unchanged. The attacker can then work out if the message generated a true or false result.
   2. **Time-based**—attacker sends a SQL query to the database, which makes the database wait \(for a period in seconds\) before it can react. The attacker can see from the time the database takes to respond, whether a query is true or false. Based on the result, an HTTP response will be generated instantly or after a waiting period. The attacker can thus work out if the message they used returned true or false, without relying on data from the database.
4. **Out-of-Band SQL Injection**: Attackers use different communication channels \(such as database email functionality or file writing and loading functions\) to perform the attack and obtain the results. This type of attack is **difficult** to perform because the attacker needs to communicate with the server and determine the features of the database server used by the web application.

**SQL Prevention and Mitigation**

1. **Input validation and Sanitization**
2. **Web Application Firewall \(WAF\)** is commonly employed to filter out SQL injection attacks. Usually, such a list holds signatures to address specific attack vectors and is regularly patched to introduce blocking rules for newly discovered vulnerabilities.
3. **Security intelligence Feeds to block bad reputation IP addresses.**
4. **Intrusion prevention Systems and full decryption of inbound data for published services**

{% tabs %}
{% tab title="First Tab" %}
**What is SQL Injection?**

Databases are used to store data such as web application login credentials and e-commerce inventory. The data is interacted with using SQL queries and is most commonly used in web applications to validate and authenticate a login request or perform a product search. Keywords and characters are used to form SQL queries in order to retrieve or modify data in a database. In an SQL injection attack, an adversary can insert combinations of keywords or characters \(such as a single quote, double quote, asterisks, semicolon or round brackets\) to manipulate the queries used by an application to retrieve or modify information in unintended ways.

It is a common issue and has held the \#1 spot in the OWASP Top 10 web application vulnerabilities across several revisions. It is easy to detect and exploit in many cases, however, compensating controls and mitigations can make it more difficult to exploit.

**Consequences or Risk**

With no mitigating controls, SQL injection can leave the application at a **high-risk** of compromise resulting in an impact to the **confidentiality**, and **integrity** of data as well as **authentication** and **authorization** aspects of the application. An adversary can steal sensitive information stored in databases used by vulnerable programs or applications such as user credentials, trade secrets, or transaction records. SQL injection vulnerabilities should _never be left open_; they **must** be fixed in all circumstances. If the authentication or authorization aspects of an application is affected an attacker may be able login as any other user, such as an administrator which elevates their privileges.

**Technical Trenches**

This section is geared towards application developers or system administrators who are seeking to understand why SQL injection vulnerabilities exist, how they work, and how to properly mitigate them. For those not looking to get deep in technical details, you can skip to the Remediation section.

**Types of SQL Injection**

There are many different ways to exploit SQL injection each requiring a different level of expertise and knowledge ranging from beginner to expert. The three common types of SQL injection are Union-based, Error-based, and Blind SQL injection.

**Union-based SQL Injection** involves using the union statement keyword to combine queries together to retrieve information from a database. This type of injection typically can only retrieve information and cannot be used to modify, delete or insert additional data.

**Error-Based SQL Injection** is typically easy to exploit as it returns verbose error information when a SQL query fails such as when the syntax is incorrect. An attacker can learn the exact query being executed by the SQL server and use this information to craft malicious requests. Depending on database configurations this may be able to be used to insert or modify data in addition to retrieval.

**Blind SQL Injection** is typically harder to exploit as there is no information returned directly to the attacker, but it is still exploitable and can sometimes be just as easy to exploit as union-based and error-

## References

Packetlabs. \(2020\). _SQL Injection_. Retrieved from PacketLabs: https://www.packetlabs.net/sql-injection/
{% endtab %}

{% tab title="Second Tab" %}

{% endtab %}
{% endtabs %}

